# Rsync备份工具配置示例
# 复制此文件并根据您的环境进行修改

# ================================
# Telegram 通知配置
# ================================
BOT_TOKEN="1234567890:ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefg"
CHAT_ID="-1001234567890"

# ================================
# 远程服务器配置
# ================================
TARGET_IP="192.168.1.100"
TARGET_USER="backup"
SSH_PORT="22"
TARGET_BASE_DIR="/backups"
REMOTE_DIR_NAME="web-server-01"

# ================================
# 备份源配置
# ================================
# 要备份的目录列表（空格分隔）
BACKUP_SOURCE_DIRS="/etc /home /var/www /opt"

# 排除模式（支持通配符）
BACKUP_EXCLUDE_PATTERNS="*.log *.tmp cache/* temp/* .cache/* node_modules/* *.iso *.img swap*"

# 本地备份目录
LOCAL_BACKUP_DIR="/backups/rsync"

# ================================
# 备份选项
# ================================
# 启用压缩传输（Y/N）
ENABLE_COMPRESSION="Y"

# 启用增量备份（Y/N）
INCREMENTAL_BACKUP="Y"

# rsync带宽限制（KB/s，留空表示不限制）
RSYNC_BANDWIDTH_LIMIT=""

# ================================
# 保留策略
# ================================
# 本地备份保留天数
LOCAL_BACKUP_KEEP_DAYS="7"

# 远程备份保留天数
REMOTE_BACKUP_KEEP_DAYS="30"

# ================================
# 调度配置
# ================================
# 备份间隔（小时）
BACKUP_INTERVAL_HOURS="24"

# ================================
# 系统监控阈值
# ================================
# 磁盘使用率阈值（%）
DISK_SPACE_THRESHOLD="85"

# 最大重试次数
MAX_RETRY_ATTEMPTS="3"

# 负载阈值倍数（基于CPU核心数）
LOAD_THRESHOLD_MULTIPLIER="1.5"

# 内存使用率阈值（%）
MEMORY_THRESHOLD="80"

# ================================
# 日志配置
# ================================
LOG_FILE="/var/log/rsync_backup/backup.log"
DEBUG_LOG="/var/log/rsync_backup/debug.log"
